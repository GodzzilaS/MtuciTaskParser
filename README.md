# MtuciTaskParser

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram‚Äë–±–æ—Ç c –≤–µ–±-–∞–¥–º–∏–Ω–∫–æ–π –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞–Ω–∏–π –≤ LMS –ú–¢–£–°–ò.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
MtuciTaskParser/
‚îú‚îÄ‚îÄ README.md                   # –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
‚îú‚îÄ‚îÄ requirements.txt            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ .env                        # –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è —Å—Ä–µ–¥—ã
‚îú‚îÄ‚îÄ main.py                     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ scheduler.py                # –§–æ–Ω–æ–≤–∞—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ settings.py             # –ó–∞–≥—Ä—É–∑–∫–∞ .env –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ db.py                   # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ —Ä–∞–±–æ—Ç–∞ —Å MongoDB
‚îÇ   ‚îî‚îÄ‚îÄ models/                 # –ú–æ–¥–µ–ª–∏ –∏ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ       ‚îú‚îÄ‚îÄ config.py           # –§–ª–∞–≥–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (maintenance_mode, scheduled_enabled)
‚îÇ       ‚îú‚îÄ‚îÄ users.py            # CRUD –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ       ‚îî‚îÄ‚îÄ tasks.py            # CRUD –∏ bulk‚Äë–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ encryption.py           # –°–µ—Ä–≤–∏—Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ scraper.py              # Selenium‚Äë–ø–∞—Ä—Å–µ—Ä LMS
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ blueprints_utils.py     # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Flask‚Äëblueprint‚Äô–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ check_utils.py          # –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞/—Ç–µ—Ö.—Ä–∞–±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ date_utils.py           # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞—Ç/–≤—Ä–µ–º–µ–Ω–∏ –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
‚îÇ   ‚îú‚îÄ‚îÄ logger_utils.py         # –õ–æ–≥–≥–µ—Ä —Å —Ü–≤–µ—Ç–∞–º–∏ + middleware –¥–ª—è Flask
‚îÇ   ‚îî‚îÄ‚îÄ status_utils.py         # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞–Ω–∏—è –≤ —ç–º–æ–¥–∑–∏
‚îú‚îÄ‚îÄ webapp/                     # –í–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Flask –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ routes.py               # Blueprint‚Äë—Ä–æ—É—Ç—ã (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ñ–ª–∞–≥–∞–º–∏)
‚îÇ   ‚îú‚îÄ‚îÄ templates/              # Jinja2‚Äë—à–∞–±–ª–æ–Ω—ã (base, index, login, users)
‚îÇ   ‚îî‚îÄ‚îÄ static/                 # CSS, favicon‚Äô—ã, SVG‚Äë–∏–∫–æ–Ω–∫–∏
‚îî‚îÄ‚îÄ bot/                        # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Telegram‚Äë–±–æ—Ç–∞
    ‚îú‚îÄ‚îÄ __init__.py             # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
    ‚îú‚îÄ‚îÄ start_handler.py        # –û–±—Ä–∞–±–æ—Ç–∫–∞ /start
    ‚îú‚îÄ‚îÄ login_handler.py        # –û–±—Ä–∞–±–æ—Ç–∫–∞ /login
    ‚îú‚îÄ‚îÄ tasks_handler.py        # –û–±—Ä–∞–±–æ—Ç–∫–∞ /get_tasks
    ‚îî‚îÄ‚îÄ timetable_handler.py    # –û–±—Ä–∞–±–æ—Ç–∫–∞ /get_timetable
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ–º–∞–Ω–¥–æ–π `/login <login> <password>`
- –†—É—á–Ω–æ–π —Å–±–æ—Ä —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞–Ω–∏–π –∫–æ–º–∞–Ω–¥–æ–π `/get_tasks`
- –†—É—á–Ω–æ–π —Å–±–æ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è `/get_timetable`
- –§–æ–Ω–æ–≤–∞—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–≤–µ—Ç–∞ –∏–ª–∏ –æ—Ü–µ–Ω–∫–∏
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ –ë–î —Å –ø–æ–º–æ—â—å—é Fernet
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∑–∞–¥–∞–Ω–∏–π –≤ MongoDB
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ª—ë–≥–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.13
- MongoDB
- Google Chrome/Chromium & ChromeDriver –≤ PATH
- Telegram Bot Token
- Fernet encryption key
- –ü–∞–∫–µ—Ç—ã –∏–∑ `requirements.txt`

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```dotenv
TELEGRAM_DEV_TOKEN="<—Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏>"
TELEGRAM_PROD_TOKEN="<—Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞>"
ENCRYPTION_KEY=<Base64-–∫–ª—é—á Fernet>
DB_URL="<—Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB>"
DB_NAME="<–Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö>"
```

- `TELEGRAM_DEV_TOKEN` –∏ `TELEGRAM_PROD_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω—ã –±–æ—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥.
- `ENCRYPTION_KEY` ‚Äî –∫–ª—é—á –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## –ó–∞–ø—É—Å–∫

1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    ```bash
    pip install -r requirements.txt
    ```

2. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
    ```bash
    python main.py
    ```

---

## üìã TODO
–í—Å–µ –∑–∞–¥–∞—á–∏ —Å–º. –≤ [TODO.md](./TODO.md)