# TODO

## 1. Спарсить LMS-страницы

- [x] Реализовать авторизацию на странице лк МТУСИ
- [x] Обработка ошибок авторизации и неверных учётных данных
- [x] Навигация к странице курсов и ожидание загрузки элементов
- [x] Переключение на карточный режим отображения
- [x] Извлечение списка курсов (BeautifulSoup-селекторы)
- [x] Парсинг данных:
  - [x] Название курса и задания
  - [x] Дата открытия и крайний срок
  - [x] Статус отправки
  - [x] Статус оценки
- [x] Логирование шагов парсинга и запись логов в файл

## 2. Создать и настроить Telegram‑бота

- [x] Реализовать команды и выкинуть их в асинхронный поток:
  - [x] `/login` – ввод и шифрование учётных данных (Fernet)
  - [x] `/get_tasks` – вывод текущих заданий
  - [x] `/get_timetable` – вывод текущего расписания на месяц
  - [x] Вызовы к `Scraper` через `asyncio.to_thread`
  - [x] Обработка исключений и таймаутов
- [x] Хранение данных в MongoDB:
  - [x] CRUD пользователей
  - [x] CRUD заданий
- [x] Фоновая задача для проверки изменений и отправки уведомлений:
  - [x] Запуск в отдельном потоке/цикле
  - [x] Интервал проверки — каждые 5 минут
  - [x] Отправка уведомлений при изменениях статусов
- [x] Замер времени выполнения команд
- [x] Логирование команд и ошибок
- [x] Привязать notification_enable к реальным показателям

## 3. Добавить веб‑админку на Flask

- [x] Интеграция с моделями для CRUD
- [x] Страница с основной информацией об использовании бота и так-же управление флагами:
  - [x] `bot_enabled`
  - [x] `maintenance_mode`
  - [x] `scheduled_enabled`
  - [x] Кнопка «Запустить проверку» для `background_check`
- [x] Страница списка пользователей:
  - [ ] Фильтры/Выборка по нескольким параметрам
  - [ ] Кнопки «Удалить», «Отключить/Включить уведомления»
  - [ ] Различные массовые операции: включить/выключить уведомления, удалить нескольких пользователей
  - [ ] Функция вызова команд из под другого пользователя в целях тестирования и просмотра ответов
- [x] Страница с настройками:
  - [x] Интерфейс для изменения интервала фоновой проверки
  - [ ] Вынести все сообщения в другое хранилище, что бы их можно было редактировать с сайта
- [x] Страница последних записей логов (INFO/WARN/ERROR)
  - [x] Возможность скачать или очистить старые логи
- [x] Страница с задачами
  - [ ] Добавить таблицу всех заданий с фильтрами (дата, статус, курс/группа)
  - [ ] Реализовать ручное обновление статуса задания из админки
- [x] Страница с дашбордами (аля графана)
  - [ ] Показать число активных пользователей
  - [ ] График изменений заданий/уведомлений за период
